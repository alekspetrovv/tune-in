version: '3'
services:

  discovery-service:
    build: services/discovery-service
    ports:
      - "8090:8090"

  user-service:
    build: services/user-service
    environment:
      - eureka.client.service-url.defaultZone=http://discovery-service:8090/eureka/
    depends_on:
      - discovery-service
    ports:
      - "8086:8086"

  blog-service:
    build: services/blog-service
    environment:
      - eureka.client.service-url.defaultZone=http://discovery-service:8090/eureka/
    depends_on:
      - discovery-service
    ports:
      - "8085:8085"

  gateway-service:
    build: services/gateway-service
    environment:
      - eureka.client.service-url.defaultZone=http://discovery-service:8090/eureka/
    depends_on:
      - discovery-service
    ports:
      - "8070:8070"
